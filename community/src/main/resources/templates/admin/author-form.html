<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragments/layout :: head('Edycja Autora')}"></head>
  <body>
    <nav th:replace="~{fragments/layout :: navigation}"></nav>

    <style>
      /* --- GLOBAL STYLES (Goodreads-like) --- */
      body {
        background-color: #f4f1ea !important;
        color: #382110;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }

      /* --- TYPOGRAPHY --- */
      .gr-font {
        font-family: "Georgia", serif;
        font-weight: bold;
        color: #382110;
      }

      /* --- CARDS --- */
      .card-custom {
        border: 1px solid #d6d0c4;
        border-top: 5px solid #382110; /* Brązowy akcent na górze */
        border-radius: 4px;
        background-color: #ffffff;
      }

      /* --- FORMS --- */
      .form-label {
        color: #382110;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      .form-control {
        border-color: #d6d0c4;
        padding: 10px;
      }
      .form-control:focus {
        border-color: #382110;
        box-shadow: 0 0 0 0.2rem rgba(56, 33, 16, 0.15); /* Brązowa poświata */
      }

      /* --- BUTTONS --- */
      .btn-brown {
        background-color: #382110;
        color: #fff;
        border: 1px solid #382110;
        font-weight: 600;
        padding: 8px 20px;
        transition: all 0.3s;
      }
      .btn-brown:hover {
        background-color: #5a3b1c;
        border-color: #5a3b1c;
        color: #fff;
      }
      .btn-outline-brown {
        color: #382110;
        border: 1px solid #d6d0c4;
        background-color: transparent;
        font-weight: 600;
        padding: 8px 20px;
        transition: all 0.3s;
      }
      .btn-outline-brown:hover {
        background-color: #f4f1ea;
        border-color: #382110;
        color: #382110;
      }
    </style>

    <div class="container mt-5 mb-5 flex-grow-1">
      <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
          <div class="mb-3">
            <a
              href="/admin/authors"
              class="text-decoration-none small text-muted hover-underline"
            >
              <i class="fas fa-arrow-left me-1"></i> Wróć do listy
            </a>
          </div>

          <div class="card card-custom shadow-sm border-0">
            <div class="card-body p-4 p-md-5">
              <div class="text-center mb-4">
                <div class="mb-3">
                  <span class="fa-stack fa-2x">
                    <i
                      class="fas fa-circle fa-stack-2x"
                      style="color: #f4f1ea"
                    ></i>
                    <i
                      class="fas fa-pen-nib fa-stack-1x"
                      style="color: #382110"
                    ></i>
                  </span>
                </div>
                <h3
                  class="gr-font mb-1"
                  th:text="${author.id == null ? 'Dodaj Autora' : 'Edytuj Autora'}"
                >
                  Autor
                </h3>
                <p class="text-muted small">
                  Uzupełnij dane autora, aby dodać go do bazy.
                </p>
              </div>

              <form
                th:action="@{/admin/authors/save}"
                th:object="${author}"
                method="post"
              >
                <input type="hidden" th:field="*{id}" />

                <div class="mb-3">
                  <label class="form-label fw-bold">Imię</label>
                  <input
                    type="text"
                    th:field="*{firstName}"
                    class="form-control"
                    placeholder="Np. J.K."
                    required
                  />
                </div>

                <div class="mb-4">
                  <label class="form-label fw-bold">Nazwisko</label>
                  <input
                    type="text"
                    th:field="*{lastName}"
                    class="form-control"
                    placeholder="Np. Rowling"
                    required
                  />
                </div>

                <div class="d-grid gap-3 pt-2">
                  <button
                    type="submit"
                    class="btn btn-brown btn-lg"
                    style="font-size: 1rem"
                  >
                    <i class="fas fa-save me-2"></i>Zapisz
                  </button>
                  <a
                    href="/admin/authors"
                    class="btn btn-outline-brown text-center"
                  >
                    Anuluj
                  </a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer th:replace="~{fragments/layout :: footer}"></footer>
  </body>
</html>
